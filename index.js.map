{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК\n    lucide.createIcons();\n\n    // 2. ПЛАВНЫЙ СКРОЛЛ (LENIS)\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        smoothWheel: true\n    });\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // 3. МОБИЛЬНОЕ МЕНЮ\n    const menuToggle = document.querySelector('.menu-toggle');\n    const mobileMenu = document.getElementById('mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n    const toggleMenu = () => {\n        menuToggle.classList.toggle('active');\n        mobileMenu.classList.toggle('active');\n        document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n    };\n\n    menuToggle.addEventListener('click', toggleMenu);\n    mobileLinks.forEach(link => link.addEventListener('click', () => {\n        if(mobileMenu.classList.contains('active')) toggleMenu();\n    }));\n\n    // 4. THREE.JS HERO ANIMATION\n    const initHeroScene = () => {\n        const container = document.getElementById('hero-canvas');\n        if (!container) return;\n\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);\n        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\n        renderer.setSize(container.clientWidth, container.clientHeight);\n        container.appendChild(renderer.domElement);\n\n        const geometry = new THREE.BufferGeometry();\n        const count = 1500;\n        const positions = new Float32Array(count * 3);\n        for(let i=0; i < count * 3; i++) positions[i] = (Math.random() - 0.5) * 6;\n        geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n\n        const material = new THREE.PointsMaterial({ size: 0.015, color: 0x22d3ee, transparent: true, blending: THREE.AdditiveBlending });\n        const points = new THREE.Points(geometry, material);\n        scene.add(points);\n        camera.position.z = 3;\n\n        let mouseX = 0, mouseY = 0;\n        document.addEventListener('mousemove', (e) => {\n            mouseX = (e.clientX - window.innerWidth/2) * 0.0005;\n            mouseY = (e.clientY - window.innerHeight/2) * 0.0005;\n        });\n\n        const animate = () => {\n            requestAnimationFrame(animate);\n            points.rotation.y += 0.001 + mouseX;\n            points.rotation.x += 0.0005 + mouseY;\n            renderer.render(scene, camera);\n        };\n        animate();\n\n        window.addEventListener('resize', () => {\n            camera.aspect = container.clientWidth / container.clientHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(container.clientWidth, container.clientHeight);\n        });\n    };\n    initHeroScene();\n\n    // 5. SWIPER (ИННОВАЦИИ)\n    new Swiper('.innovations-slider', {\n        slidesPerView: 1,\n        spaceBetween: 24,\n        pagination: { el: '.swiper-pagination', clickable: true },\n        navigation: { nextEl: '.next', prevEl: '.prev' },\n        breakpoints: { 768: { slidesPerView: 2 }, 1024: { slidesPerView: 3 } }\n    });\n\n    // 6. ФОРМА КОНТАКТОВ + КАПЧА\n    const contactForm = document.getElementById('contact-form');\n    if(contactForm) {\n        const phoneInput = document.getElementById('phone-input');\n        const captchaLabel = document.getElementById('captcha-label');\n        const captchaInput = document.getElementById('captcha-input');\n        const successMsg = document.getElementById('form-success');\n        \n        let a = Math.floor(Math.random() * 10), b = Math.floor(Math.random() * 10);\n        let result = a + b;\n        captchaLabel.innerText = `Решите пример: ${a} + ${b} = ?`;\n\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^0-9+]/g, '');\n        });\n\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            if (parseInt(captchaInput.value) !== result) {\n                alert('Ошибка в примере!');\n                return;\n            }\n            contactForm.querySelector('button').innerText = 'Отправка...';\n            setTimeout(() => {\n                successMsg.classList.add('active');\n                lucide.createIcons();\n            }, 1000);\n        });\n    }\n\n    // 7. COOKIE POPUP\n    const cookiePopup = document.getElementById('cookie-popup');\n    const acceptBtn = document.getElementById('cookie-accept');\n    \n    if (!localStorage.getItem('cookieConsent')) {\n        setTimeout(() => cookiePopup.classList.add('visible'), 2000);\n    }\n\n    acceptBtn.addEventListener('click', () => {\n        localStorage.setItem('cookieConsent', 'true');\n        cookiePopup.classList.remove('visible');\n    });\n\n    document.getElementById('cookie-decline').addEventListener('click', () => {\n        cookiePopup.classList.remove('visible');\n    });\n});"],"names":["lenis","t","raf","time","menuToggle","mobileMenu","mobileLinks","toggleMenu","link","container","scene","camera","renderer","geometry","count","positions","i","material","points","mouseX","mouseY","e","animate","contactForm","phoneInput","captchaLabel","captchaInput","successMsg","a","b","result","cookiePopup","acceptBtn"],"mappings":"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"}